{"ast":null,"code":"var _jsxFileName = \"D:\\\\Vidhi Mathur\\\\REACT JS (Udemy)\\\\router-practice\\\\12-adv-starting-project\\\\frontend\\\\src\\\\components\\\\pages\\\\Events.js\",\n  _s = $RefreshSig$();\nimport { Suspense } from \"react\";\nimport EventsList from \"../EventsList\";\nimport { useLoaderData, json, defer, Await } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function EventsPage() {\n  _s();\n  const events = useLoaderData().events;\n  //return <EventsList events={events}/> \n  return (\n    /*#__PURE__*/\n    //Shows fallback while  other data loads\n    _jsxDEV(Suspense, {\n      fallback: /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          textAlign: 'center'\n        },\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 10,\n        columnNumber: 25\n      }, this),\n      children: /*#__PURE__*/_jsxDEV(Await, {\n        resolve: events,\n        children: loadedEvents => /*#__PURE__*/_jsxDEV(EventsList, {\n          events: loadedEvents\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 12,\n          columnNumber: 46\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 12,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 5\n    }, this)\n  );\n}\n_s(EventsPage, \"UGd6Srho9ZIz3WBO/oX8v/JIOKQ=\", false, function () {\n  return [useLoaderData];\n});\n_c = EventsPage;\nasync function loadEvents() {\n  const response = await fetch('http://localhost:8080/events');\n  if (!response.ok) {\n    // throw new Response(JSON.stringify({ message: 'Couldn\\'t fetch data'}),  { status: 500 }), if using json to create application responses, no need to parse data there\n    throw json({\n      message: 'Couldn\\'t fetch data'\n    }, {\n      status: 500\n    });\n  } else {\n    const responseData = await response.json();\n    return responseData;\n  }\n}\nexport function loader() {\n  //Defer loading certain parts of components only, bundling different http request going on this page, as promise, to eventually resolve to another value, and load that component even if future value isn't there yet\n  return defer({\n    events: loadEvents()\n  });\n}\nvar _c;\n$RefreshReg$(_c, \"EventsPage\");","map":{"version":3,"names":["Suspense","EventsList","useLoaderData","json","defer","Await","jsxDEV","_jsxDEV","EventsPage","_s","events","fallback","style","textAlign","children","fileName","_jsxFileName","lineNumber","columnNumber","resolve","loadedEvents","_c","loadEvents","response","fetch","ok","message","status","responseData","loader","$RefreshReg$"],"sources":["D:/Vidhi Mathur/REACT JS (Udemy)/router-practice/12-adv-starting-project/frontend/src/components/pages/Events.js"],"sourcesContent":["import { Suspense } from \"react\";\r\nimport EventsList from \"../EventsList\"\r\nimport { useLoaderData, json, defer, Await } from \"react-router-dom\"\r\n\r\nexport default function EventsPage() {\r\n    const events = useLoaderData().events\r\n    //return <EventsList events={events}/> \r\n    return (\r\n    //Shows fallback while  other data loads\r\n    <Suspense fallback={<p style={{textAlign: 'center'}}>Loading...</p>} >\r\n    {/* On resolved, execute what's inside <Await> */}\r\n    <Await resolve={events}>{loadedEvents => <EventsList events={loadedEvents}/>}</Await>\r\n    </Suspense>\r\n    )\r\n}\r\n\r\nasync function loadEvents() {\r\n    const response = await fetch('http://localhost:8080/events');\r\n        if(!response.ok){\r\n            // throw new Response(JSON.stringify({ message: 'Couldn\\'t fetch data'}),  { status: 500 }), if using json to create application responses, no need to parse data there\r\n            throw json({ message: 'Couldn\\'t fetch data'},  { status: 500 })\r\n        }\r\n        else{\r\n            const responseData = await response.json()\r\n            return responseData\r\n        }\r\n}\r\n\r\nexport function loader() {\r\n    //Defer loading certain parts of components only, bundling different http request going on this page, as promise, to eventually resolve to another value, and load that component even if future value isn't there yet\r\n    return defer({\r\n        events: loadEvents()\r\n    })\r\n}"],"mappings":";;AAAA,SAASA,QAAQ,QAAQ,OAAO;AAChC,OAAOC,UAAU,MAAM,eAAe;AACtC,SAASC,aAAa,EAAEC,IAAI,EAAEC,KAAK,EAAEC,KAAK,QAAQ,kBAAkB;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAEpE,eAAe,SAASC,UAAUA,CAAA,EAAG;EAAAC,EAAA;EACjC,MAAMC,MAAM,GAAGR,aAAa,CAAC,CAAC,CAACQ,MAAM;EACrC;EACA;IAAA;IACA;IACAH,OAAA,CAACP,QAAQ;MAACW,QAAQ,eAAEJ,OAAA;QAAGK,KAAK,EAAE;UAACC,SAAS,EAAE;QAAQ,CAAE;QAAAC,QAAA,EAAC;MAAU;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAE;MAAAJ,QAAA,eAEpEP,OAAA,CAACF,KAAK;QAACc,OAAO,EAAET,MAAO;QAAAI,QAAA,EAAEM,YAAY,iBAAIb,OAAA,CAACN,UAAU;UAACS,MAAM,EAAEU;QAAa;UAAAL,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAC;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC3E;EAAC;AAEf;AAACT,EAAA,CAVuBD,UAAU;EAAA,QACfN,aAAa;AAAA;AAAAmB,EAAA,GADRb,UAAU;AAYlC,eAAec,UAAUA,CAAA,EAAG;EACxB,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,8BAA8B,CAAC;EACxD,IAAG,CAACD,QAAQ,CAACE,EAAE,EAAC;IACZ;IACA,MAAMtB,IAAI,CAAC;MAAEuB,OAAO,EAAE;IAAsB,CAAC,EAAG;MAAEC,MAAM,EAAE;IAAI,CAAC,CAAC;EACpE,CAAC,MACG;IACA,MAAMC,YAAY,GAAG,MAAML,QAAQ,CAACpB,IAAI,CAAC,CAAC;IAC1C,OAAOyB,YAAY;EACvB;AACR;AAEA,OAAO,SAASC,MAAMA,CAAA,EAAG;EACrB;EACA,OAAOzB,KAAK,CAAC;IACTM,MAAM,EAAEY,UAAU,CAAC;EACvB,CAAC,CAAC;AACN;AAAC,IAAAD,EAAA;AAAAS,YAAA,CAAAT,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}