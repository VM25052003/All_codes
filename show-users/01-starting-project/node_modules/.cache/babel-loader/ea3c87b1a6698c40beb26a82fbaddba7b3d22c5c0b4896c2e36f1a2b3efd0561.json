{"ast":null,"code":"var _jsxFileName = \"D:\\\\Vidhi Mathur\\\\REACT JS (Udemy)\\\\show-users\\\\01-starting-project\\\\src\\\\components\\\\UserFinder.js\";\nimport { useState, useEffect, Component } from \"react\";\nimport Users from \"./Users\";\nimport classes from './UserFinder.module.css';\nimport UsersContext from '../store/users-context';\nimport ErrorBoundary from \"./ErrorBoundary\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nclass UserFinder extends Component {\n  constructor() {\n    super();\n    this.state = {\n      filteredUsers: [],\n      searchTerm: ''\n    };\n  }\n\n  //Imagine our users are loaded from a server from a database. So we're sending an HTTP request, so initially filteredUsers = [], when rendered for the first time. Hence we can't use component did update in this scenario because don't want fetch users over and over again. So, componentDidMount will run only once\n  componentDidMount() {\n    this.setState({\n      filteredUsers: this.context.users\n    });\n  }\n  componentDidUpdate(prevProp, prevState) {\n    //Avoiding infinite loop, similar ot dependency[] in useEffect()\n    if (prevState.searchTerm !== this.state.searchTerm) {\n      this.setState({\n        filteredUsers: this.context.users.filter(user => user.name.includes(this.state.searchTerm))\n      });\n    }\n  }\n  searchChangeHandler(e) {\n    this.setState({\n      searchTerm: e.target.value\n    });\n  }\n\n  //Can't wrap Users in try catch to deal with errors as not usual js code. \n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.finder,\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"search\",\n          onChange: this.searchChangeHandler.bind(this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(ErrorBoundary, {\n        children: /*#__PURE__*/_jsxDEV(Users, {\n          users: this.state.filteredUsers\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true);\n  }\n}\n\n// const UserFinder = () => {\n//     const [filteredUsers, setFilteredUsers] = useState(DUMMY_USERS)\n//     const [searchTerm, setSearchTerm] = useState('')\n\n//     useEffect(() => {\n//         setFilteredUsers(DUMMY_USERS.filter(user => user.name.includes(searchTerm)))\n//     }, [searchTerm])\n\n//     function searchChangeHandler(e){\n//         setSearchTerm(e.target.value)\n//     }\n\n//     return (\n//         <>\n//         <div className={classes.finder}>\n//             <input type=\"search\" onChange={searchChangeHandler}/>\n//         </div>\n//         <Users users={filteredUsers}/>\n//         </>\n//     )\n// }\nUserFinder.contextType = UsersContext;\nexport default UserFinder;","map":{"version":3,"names":["useState","useEffect","Component","Users","classes","UsersContext","ErrorBoundary","jsxDEV","_jsxDEV","Fragment","_Fragment","UserFinder","constructor","state","filteredUsers","searchTerm","componentDidMount","setState","context","users","componentDidUpdate","prevProp","prevState","filter","user","name","includes","searchChangeHandler","e","target","value","render","children","className","finder","type","onChange","bind","fileName","_jsxFileName","lineNumber","columnNumber","contextType"],"sources":["D:/Vidhi Mathur/REACT JS (Udemy)/show-users/01-starting-project/src/components/UserFinder.js"],"sourcesContent":["import { useState, useEffect, Component } from \"react\";\r\nimport Users from \"./Users\";\r\nimport classes from './UserFinder.module.css'\r\nimport UsersContext from '../store/users-context'\r\nimport ErrorBoundary from \"./ErrorBoundary\";\r\n\r\nclass UserFinder extends Component{\r\n    static contextType = UsersContext\r\n    constructor(){\r\n        super()\r\n        this.state = {\r\n            filteredUsers: [],\r\n            searchTerm: ''\r\n        }\r\n    }\r\n\r\n//Imagine our users are loaded from a server from a database. So we're sending an HTTP request, so initially filteredUsers = [], when rendered for the first time. Hence we can't use component did update in this scenario because don't want fetch users over and over again. So, componentDidMount will run only once\r\n    componentDidMount(){\r\n        this.setState({ \r\n            filteredUsers: this.context.users\r\n        })\r\n    }\r\n    componentDidUpdate(prevProp, prevState){\r\n        //Avoiding infinite loop, similar ot dependency[] in useEffect()\r\n        if(prevState.searchTerm !== this.state.searchTerm){\r\n            this.setState({\r\n                filteredUsers: this.context.users.filter(user => user.name.includes(this.state.searchTerm))\r\n            })\r\n        }\r\n    }\r\n\r\n    searchChangeHandler(e){\r\n        this.setState({searchTerm: e.target.value})\r\n    }\r\n\r\n    //Can't wrap Users in try catch to deal with errors as not usual js code. \r\n    render() {\r\n        return (\r\n            <>\r\n            <div className={classes.finder}>\r\n                <input type=\"search\" onChange={this.searchChangeHandler.bind(this)}/>\r\n            </div>\r\n            <ErrorBoundary>\r\n            <Users users={this.state.filteredUsers}/>\r\n            </ErrorBoundary>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\n// const UserFinder = () => {\r\n//     const [filteredUsers, setFilteredUsers] = useState(DUMMY_USERS)\r\n//     const [searchTerm, setSearchTerm] = useState('')\r\n\r\n//     useEffect(() => {\r\n//         setFilteredUsers(DUMMY_USERS.filter(user => user.name.includes(searchTerm)))\r\n//     }, [searchTerm])\r\n\r\n//     function searchChangeHandler(e){\r\n//         setSearchTerm(e.target.value)\r\n//     }\r\n\r\n//     return (\r\n//         <>\r\n//         <div className={classes.finder}>\r\n//             <input type=\"search\" onChange={searchChangeHandler}/>\r\n//         </div>\r\n//         <Users users={filteredUsers}/>\r\n//         </>\r\n//     )\r\n// }\r\n\r\nexport default UserFinder"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,EAAEC,SAAS,QAAQ,OAAO;AACtD,OAAOC,KAAK,MAAM,SAAS;AAC3B,OAAOC,OAAO,MAAM,yBAAyB;AAC7C,OAAOC,YAAY,MAAM,wBAAwB;AACjD,OAAOC,aAAa,MAAM,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAE5C,MAAMC,UAAU,SAAST,SAAS;EAE9BU,WAAWA,CAAA,EAAE;IACT,KAAK,CAAC,CAAC;IACP,IAAI,CAACC,KAAK,GAAG;MACTC,aAAa,EAAE,EAAE;MACjBC,UAAU,EAAE;IAChB,CAAC;EACL;;EAEJ;EACIC,iBAAiBA,CAAA,EAAE;IACf,IAAI,CAACC,QAAQ,CAAC;MACVH,aAAa,EAAE,IAAI,CAACI,OAAO,CAACC;IAChC,CAAC,CAAC;EACN;EACAC,kBAAkBA,CAACC,QAAQ,EAAEC,SAAS,EAAC;IACnC;IACA,IAAGA,SAAS,CAACP,UAAU,KAAK,IAAI,CAACF,KAAK,CAACE,UAAU,EAAC;MAC9C,IAAI,CAACE,QAAQ,CAAC;QACVH,aAAa,EAAE,IAAI,CAACI,OAAO,CAACC,KAAK,CAACI,MAAM,CAACC,IAAI,IAAIA,IAAI,CAACC,IAAI,CAACC,QAAQ,CAAC,IAAI,CAACb,KAAK,CAACE,UAAU,CAAC;MAC9F,CAAC,CAAC;IACN;EACJ;EAEAY,mBAAmBA,CAACC,CAAC,EAAC;IAClB,IAAI,CAACX,QAAQ,CAAC;MAACF,UAAU,EAAEa,CAAC,CAACC,MAAM,CAACC;IAAK,CAAC,CAAC;EAC/C;;EAEA;EACAC,MAAMA,CAAA,EAAG;IACL,oBACIvB,OAAA,CAAAE,SAAA;MAAAsB,QAAA,gBACAxB,OAAA;QAAKyB,SAAS,EAAE7B,OAAO,CAAC8B,MAAO;QAAAF,QAAA,eAC3BxB,OAAA;UAAO2B,IAAI,EAAC,QAAQ;UAACC,QAAQ,EAAE,IAAI,CAACT,mBAAmB,CAACU,IAAI,CAAC,IAAI;QAAE;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAC;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACpE,CAAC,eACNjC,OAAA,CAACF,aAAa;QAAA0B,QAAA,eACdxB,OAAA,CAACL,KAAK;UAACgB,KAAK,EAAE,IAAI,CAACN,KAAK,CAACC;QAAc;UAAAwB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAC;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC1B,CAAC;IAAA,eACd,CAAC;EAEX;AACJ;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhEM9B,UAAU,CACL+B,WAAW,GAAGrC,YAAY;AAiErC,eAAeM,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}